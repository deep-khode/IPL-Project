<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPL Teams</title>
    <link rel="stylesheet" href="../../index.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
</head>
<body>
    <header id="header">
        <nav id="navBar">
            <div id="leftNav">
                <a href="../../index.html" style="margin-right: 3rem;"><img src="https://www.iplt20.com/assets/images/ipl-logo-new-old.png" alt="IPL Logo" width="100"></a>
                <a href="../../index.html" class="aTag">Home</a>
                <a href="../../index.html#TeamHeading" class="aTag">Teams</a>
            </div>
            
            <div id="rightNav">
                <a href="../players/createPlayer.html" id="createPlayer" title="Create Player" ><button class="button-cstm"><i class="fa fa-user-plus" style="margin-right:2px" aria-hidden="true"></i></button></a>
                <a href="./createTeam.html" id="createTeam" title="Create Team" ><button class="button-cstm"><i class="fa fa-users" aria-hidden="true"></i></button></a>
            </div>
        </nav>
    </header>
    <div id="main">
        <form id="create-team" class="form">
            <h2 class="create">Create Team</h2>
            <div class="row">
                <label for="name">Team Name:</label>
                <input type="text" id="name" name="name" class="form-control" placeholder="Enter Team Name" required/>
            </div>
            <div class="row">
                <label for="logo">Profile Pic:</label>
                <input type="text" id="logo" name="logo" class="form-control" placeholder="Logo URL" required/>
            </div>
            <div class="row">
                <label for="WonCount">Team Won Count:</label>
                <select id="WonCount" name="WonCount" class="form-control" placeholder="Select Won Count" required>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">8</option>
                    <option value="10">9</option>
                </select>
            </div>
            <div class="row">
                <label for="color-bottom">Color Bottom:</label>
                <input type="color" id="color-bottom" name="color-bottom" class="form-control" placeholder="Enter Bottom Color" required/>
            </div>
            <div class="row">
                <label for="color-top">Color Top:</label>
                <input type="color" id="color-top" name="color-top" class="form-control" placeholder="Enter Top Color" required/>
            </div>
            <div class="row">
                <button class="button-cstm">Add Team</button>
            </div>
        </form>
    </div>
</body>
<script type="text/javascript">
    let teamsDetails = JSON.parse(localStorage.getItem("teamsInfo"));

    $("#create-team").submit(function(e){
        e.preventDefault();
        let tempString = $("#name").val();
        let shortForm = '';
        for(let i=0;i<tempString.length;i++){
            if(i == 0){
                shortForm += tempString[i++].toUpperCase();
                continue;
            }else if(tempString[i] == ' '){
                shortForm += tempString[++i].toUpperCase();
                i++;
            }
            
        }
        let temp = {id: teamsDetails.length,teamName: $("#name").val(), icon:$("#logo").val(), shortForm, 'color-bottom': $("#color-bottom").val(), 'color-top': $("#color-top").val(), WonCount:$("#WonCount").val()};
        teamsDetails.push(temp);
        localStorage.setItem("teamsInfo", JSON.stringify(teamsDetails));  
        location.href = `./teams.html?team=${temp.shortForm}`;
    });
</script>
</html>